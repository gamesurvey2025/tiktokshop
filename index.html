<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TikTok Shop - Mobil</title>
<style>
  :root {
    --bg: #f4f6f8;
    --card: #ffffff;
    --muted: #8b8f98;
    --accent: #ffb400;
    --accent-600: #f2a900;
    --accent-dark: #d08a00;
    --green: #2bb673;
    --red: #ff5a5f;
    --glass: rgba(255, 255, 255, 0.65);
    --shadow: 0 6px 18px rgba(20, 20, 30, 0.08);
    --radius: 12px;
    --primary-font: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }
  
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  body {
    font-family: var(--primary-font);
    background: linear-gradient(180deg, #f7f9fb 0%, #eef2f5 100%);
    color: #0f1724;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
  }
  
  .device {
    width: 100%;
    max-width: 420px;
    height: 812px;
    border-radius: 22px;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(10, 20, 40, 0.12);
    border: 1px solid rgba(0, 0, 0, 0.03);
    background: var(--bg);
    display: flex;
    flex-direction: column;
  }
  
  header.top {
    height: 68px;
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.6));
    backdrop-filter: blur(6px);
    border-bottom: 1px solid rgba(15, 20, 36, 0.04);
    position: relative;
    z-index: 10;
  }
  
  .logo {
    width: 44px;
    height: 44px;
    border-radius: 10px;
    background: linear-gradient(135deg, #000000, #000000);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 14px;
    box-shadow: var(--shadow);
    flex-shrink: 0;
    user-select: none;
  }
  
  .title-wrap {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-width: 0;
    user-select: none;
  }
  
  .page-title {
    font-weight: 700;
    font-size: 16px;
    color: #111827;
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .page-sub {
    font-size: 12px;
    color: var(--muted);
    margin-top: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  .lang-switcher {
    position: relative;
    font-size: 12px;
    font-weight: 600;
    color: var(--muted);
    background: rgba(0, 0, 0, 0.03);
    padding: 6px 8px;
    border-radius: 6px;
    cursor: pointer;
    margin-right: 8px;
    flex-shrink: 0;
    user-select: none;
    transition: background-color 0.3s ease, color 0.3s ease;
    z-index: 1000;
  }
  
  .lang-switcher:hover {
    background-color: var(--accent);
    color: white;
  }
  
  .lang-dropdown {
    position: fixed;
    top: 80px;
    right: 16px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(0, 0, 0, 0.08);
    min-width: 120px;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s ease;
    max-height: 300px;
    overflow-y: auto;
  }
  
  .lang-dropdown.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }
  
  .lang-option {
    padding: 10px 12px;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    color: #374151;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    transition: background-color 0.2s ease;
  }
  
  .lang-option:last-child {
    border-bottom: none;
  }
  
  .lang-option:hover {
    background-color: #f9fafb;
  }
  
  .lang-option.active {
    background-color: var(--accent);
    color: white;
  }
  
  header.top > div:last-child {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: #e6eef9;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    color: #2c5282;
    user-select: none;
  }
  
  main.content {
    flex: 1;
    overflow: auto;
    padding: 14px;
    -webkit-overflow-scrolling: touch;
  }
  
  .card {
    background: var(--card);
    border-radius: 14px;
    padding: 16px;
    box-shadow: var(--shadow);
    margin-bottom: 12px;
  }
  
  .card-title {
    font-weight: 700;
    margin-bottom: 16px;
    font-size: 16px;
    color: #111827;
  }
  
  .ticker-wrap {
    margin-top: 12px;
    height: 160px;
    position: relative;
    overflow: hidden;
    border-radius: 12px;
    background: linear-gradient(180deg, #ffffff, #fffafa);
    border: 1px solid rgba(15, 20, 36, 0.04);
  }
  
  .ticker {
    position: absolute;
    left: 0;
    right: 0;
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    will-change: transform;
  }
  
  .tx {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    border-radius: 10px;
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.8), rgba(250, 250, 250, 0.8));
    border: 1px solid rgba(15, 20, 36, 0.03);
    user-select: none;
  }
  
  .tx .avatar {
    width: 44px;
    height: 44px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    color: white;
    background: linear-gradient(135deg, #ff7a59, #ffb86b);
    flex-shrink: 0;
  }
  
  .tx .meta {
    flex: 1;
    font-size: 14px;
    color: #2d3748;
  }
  
  .tx .meta .who {
    font-weight: 600;
  }
  
  .tx .meta .what {
    font-size: 12px;
    color: var(--muted);
    margin-top: 2px;
  }
  
  .tx .amount {
    font-weight: 700;
    font-size: 14px;
    text-align: right;
    min-width: 90px;
  }
  
  .in {
    color: var(--green);
  }
  
  .out {
    color: var(--red);
  }
  
  .partner-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
  }
  
  .partner-logo {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 16px 8px;
    border-radius: 12px;
    background: #fff;
    border: 1px solid #f0f2f5;
    text-align: center;
    box-shadow: 0 2px 8px rgba(20, 20, 30, 0.04);
    user-select: none;
    transition: all 0.3s ease;
    min-height: 80px;
  }
  
  .partner-logo:hover {
    box-shadow: 0 6px 16px rgba(20, 20, 30, 0.12);
    transform: translateY(-2px);
  }
  
  .partner-logo .logo-icon {
    height: 32px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 4px;
  }
  
  .partner-logo .logo-icon img {
    max-height: 32px;
    max-width: 100%;
    height: auto;
    width: auto;
    object-fit: contain;
  }
  
  .partner-logo .logo-icon .logo-bg {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 14px;
    color: white;
  }
  
  .partner-logo .logo-name {
    font-size: 11px;
    font-weight: 600;
    color: #4a5568;
    line-height: 1.2;
    user-select: text;
  }
  
  /* Platform specific colors */
  .amazon-bg { background: linear-gradient(135deg, #FF9900, #FFB84D); }
  .aliexpress-bg { background: linear-gradient(135deg, #FF4747, #FF6B6B); }
  .etsy-bg { background: linear-gradient(135deg, #F1641E, #FF7A3D); }
  .ebay-bg { background: linear-gradient(135deg, #E53238, #F04449); }
  .shein-bg { background: linear-gradient(135deg, #000000, #333333); }
  .asos-bg { background: linear-gradient(135deg, #2D2D2D, #4A4A4A); }
  .banggood-bg { background: linear-gradient(135deg, #FF6B35, #FF8555); }
  .tiktok-bg { background: linear-gradient(135deg, #000000, #333333); }
  
  .form-container {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  
  .form-title {
    font-weight: 700;
  }
  
  .form-sub {
    color: var(--muted);
  }
  
  .field {
    margin-top: 12px;
    background: #f7f9fb;
    border: 1px solid #eef2f5;
    padding: 12px 14px;
    border-radius: 10px;
    color: #111827;
    font-family: var(--primary-font);
    font-size: 14px;
  }
  
  .field::placeholder {
    color: #a0aec0;
  }
  
  .btn-row {
    display: flex;
    gap: 10px;
    margin-top: 18px;
  }
  
  .btn {
    flex: 1;
    padding: 12px;
    border-radius: 30px;
    background: var(--accent);
    color: white;
    text-align: center;
    font-weight: 700;
    border: none;
    cursor: pointer;
    box-shadow: 0 6px 18px rgba(255, 180, 0, 0.25);
    transition: background-color 0.3s ease;
    font-family: var(--primary-font);
    font-size: 14px;
  }
  
  .btn:hover {
    background: var(--accent-600);
  }
  
  .btn.secondary {
    background: #e2e8f0;
    color: #2d3748;
    box-shadow: none;
  }
  
  .btn.secondary:hover {
    background-color: #cbd5e1;
  }
  
  nav.bottom {
    height: 74px;
    display: flex;
    align-items: center;
    justify-content: space-around;
    gap: 6px;
    padding: 8px 10px;
    border-top: 1px solid rgba(15, 20, 36, 0.04);
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.98));
    user-select: none;
  }
  
  .nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 6px;
    width: 60px;
    color: var(--muted);
    text-decoration: none;
    font-size: 12px;
    cursor: pointer;
    text-align: center;
    transition: color 0.3s ease;
  }
  
  .nav-item .ic {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    transition: background-color 0.3s ease, color 0.3s ease;
    font-size: 22px;
    line-height: 1;
  }
  
  .nav-item.active {
    color: var(--accent-dark);
  }
  
  .nav-item.active .ic {
    background: linear-gradient(180deg, var(--accent-600), var(--accent));
    color: white;
    box-shadow: var(--shadow);
  }
  
  .muted {
    color: var(--muted);
    font-size: 13px;
  }
  
  .center {
    text-align: center;
  }
  
  .language-info {
    position: absolute;
    bottom: 20px;
    left: 0;
    right: 0;
    text-align: center;
    color: var(--muted);
    font-size: 12px;
    padding: 0 20px;
  }
  
  .form-hint {
    font-size: 12px;
    color: var(--muted);
    margin-top: 4px;
    padding: 0 4px;
  }
  
  .phone-format-hint {
    font-size: 11px;
    color: #6c757d;
    margin-top: 2px;
    padding-left: 4px;
    font-style: italic;
  }
</style>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="device" role="application">
    <header class="top">
      <div class="logo" aria-label="Site logo">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12.53.02C13.84 0 15.14.01 16.44 0c.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
        </svg>
      </div>
      <div class="title-wrap" aria-live="polite">
        <div class="page-title" id="pageTitle">TikTok Shop</div>
        <div class="page-sub" id="pageSub">Popüler Platformlar</div>
      </div>
      <div class="lang-switcher" id="langSwitcher" onclick="toggleLanguageDropdown()" role="button" tabindex="0" aria-pressed="false" aria-label="Select language">
        TR
        <div class="lang-dropdown" id="langDropdown">
          <div class="lang-option" data-lang="en" onclick="selectLanguage('en')">English</div>
          <div class="lang-option" data-lang="si" onclick="selectLanguage('si')">සිංහල</div>
          <div class="lang-option" data-lang="ta" onclick="selectLanguage('ta')">தமிழ்</div>
          <div class="lang-option" data-lang="zh" onclick="selectLanguage('zh')">中文</div>
          <div class="lang-option active" data-lang="tr" onclick="selectLanguage('tr')">Türkçe</div>
        </div>
      </div>
      <div aria-hidden="true">A</div>
    </header>

    <main class="content" id="contentArea" tabindex="0" aria-label="Main content area">
      <section id="homePage" aria-labelledby="partnersTitle" role="region">
         <div class="card">
            <div class="card-title" id="partnersTitle">Popüler E-Ticaret Platformları</div>
            <div class="partner-grid" role="list">
                <div class="partner-logo" role="listitem" tabindex="0" aria-label="Amazon platform">
                    <div class="logo-icon" aria-hidden="true">
                      <div class="logo-bg amazon-bg">A</div>
                    </div>
                    <div class="logo-name">Amazon</div>
                </div>
                <div class="partner-logo" role="listitem" tabindex="0" aria-label="AliExpress platform">
                    <div class="logo-icon" aria-hidden="true">
                      <div class="logo-bg aliexpress-bg">AE</div>
                    </div>
                    <div class="logo-name">AliExpress</div>
                </div>
                <div class="partner-logo" role="listitem" tabindex="0" aria-label="Etsy platform">
                    <div class="logo-icon" aria-hidden="true">
                      <div class="logo-bg etsy-bg">E</div>
                    </div>
                    <div class="logo-name">Etsy</div>
                </div>
                <div class="partner-logo" role="listitem" tabindex="0" aria-label="eBay platform">
                    <div class="logo-icon" aria-hidden="true">
                      <div class="logo-bg ebay-bg">eB</div>
                    </div>
                    <div class="logo-name">eBay</div>
                </div>
                <div class="partner-logo" role="listitem" tabindex="0" aria-label="Shein platform">
                    <div class="logo-icon" aria-hidden="true">
                      <div class="logo-bg shein-bg">S</div>
                    </div>
                    <div class="logo-name">Shein</div>
                </div>
                <div class="partner-logo" role="listitem" tabindex="0" aria-label="ASOS platform">
                    <div class="logo-icon" aria-hidden="true">
                      <div class="logo-bg asos-bg">AS</div>
                    </div>
                    <div class="logo-name">ASOS</div>
                </div>
                <div class="partner-logo" role="listitem" tabindex="0" aria-label="Banggood platform">
                    <div class="logo-icon" aria-hidden="true">
                      <div class="logo-bg banggood-bg">B</div>
                    </div>
                    <div class="logo-name">Banggood</div>
                </div>
                <div class="partner-logo" role="listitem" tabindex="0" aria-label="TikTok Shop platform">
                    <div class="logo-icon" aria-hidden="true">
                      <div class="logo-bg tiktok-bg">T</div>
                    </div>
                    <div class="logo-name">TikTok Shop</div>
                </div>
            </div>
        </div>

        <div class="card" aria-live="polite">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="card-title" id="tickerTitle">Canlı İşlemler</div>
          </div>
          <div class="ticker-wrap" id="tickerWrap" aria-label="Live transactions ticker">
            <div class="ticker" id="tickerA"></div>
            <div class="ticker" id="tickerB" style="top:100%"></div>
          </div>
        </div>
      </section>

      <section id="tucPage" style="display:none">
        <div class="card">
          <div class="form-container">
            <div class="form-title" id="merchantLoginTitle"></div>
            <div class="form-sub" id="merchantLoginSub"></div>
            <input class="field" id="merchantUser" type="text" autocomplete="username" placeholder="Username/Mobile"/>
            <input class="field" id="merchantPass" type="password" autocomplete="current-password" placeholder="Password"/>
            <div class="btn-row">
              <button class="btn" id="btnLogin" onclick="alert('Login simulation')">Login</button>
              <button class="btn secondary" id="btnRegister" onclick="alert('Register simulation')">Register</button>
            </div>
          </div>
        </div>
      </section>

      <section id="calismaPage" style="display:none">
        <div class="card" id="workLoginContainer">
          <div class="form-container">
            <div class="form-title" id="workLoginTitle"></div>
            <div class="form-sub" id="workLoginSub"></div>
            <input class="field" id="workUser" type="text" autocomplete="username" placeholder="Worker ID"/>
            <input class="field" id="workPass" type="password" autocomplete="current-password" placeholder="Password"/>
            <div class="btn-row">
              <button class="btn" id="workBtnLogin" onclick="simulateWorkLogin()">Login</button>
            </div>
          </div>
        </div>
        <div class="card" id="workDashboard" style="display:none; text-align:center;">
          <h3 id="workDashboardTitle"></h3>
          <p id="workDashboardWelcome"></p>
          <button class="btn secondary" onclick="workLogout()" id="workBtnLogout">Logout</button>
        </div>
      </section>

      <section id="kayitPage" style="display:none">
         <div class="card">
            <div class="form-container">
                <div class="form-title" id="registerTitle"></div>
                <input class="field" id="registerFieldName" type="text" autocomplete="name" placeholder="Full Name"/>
                <input class="field" id="registerFieldPhone" type="text" autocomplete="tel" placeholder="Mobile Phone"/>
                <input class="field" id="registerFieldPass" type="password" autocomplete="new-password" placeholder="Password"/>
                <div class="btn-row">
                    <button class="btn" id="registerBtnSubmit">Sign Up</button>
                    <button class="btn secondary" id="registerBtnCancel">Cancel</button>
                </div>
            </div>
        </div>
      </section>

      <section id="hesapPage" style="display:none">
        <div class="card">
            <div class="form-container">
                <div class="form-title" id="accountLoginTitle">User Login</div>
                <div class="form-sub" id="accountLoginSub">Access your account or register</div>
                
                <input class="field" id="accountUser" type="text" autocomplete="username" placeholder="Username or Phone"/>
                <div class="phone-format-hint">Format: (e.g. 11 2345678)</div>
                
                <input class="field" id="accountPass" type="password" autocomplete="current-password" placeholder="Password"/>
                <div class="form-hint" id="passwordHint">Enter your password</div>
                
                <div class="btn-row">
                    <button class="btn" id="accountBtnLogin" onclick="alert('Account login simulation')">Login</button>
                    <button class="btn secondary" id="accountBtnRegister" onclick="alert('Account registration simulation')">Sign Up</button>
                </div>
            </div>
        </div>
      </section>
    </main>

    <nav class="bottom" role="navigation" aria-label="Main navigation">
      <div class="nav-item active" data-target="homePage" onclick="switchPage(event)" role="tab" aria-selected="true" tabindex="0" aria-controls="homePage">
        <div class="ic" aria-hidden="true">🏠</div>
        <div class="lbl" id="navHome"></div>
      </div>
      <div class="nav-item" data-target="tucPage" onclick="switchPage(event)" role="tab" aria-selected="false" tabindex="-1" aria-controls="tucPage">
        <div class="ic" aria-hidden="true">🧾</div>
        <div class="lbl" id="navMerchant"></div>
      </div>
      <div class="nav-item" data-target="calismaPage" onclick="switchPage(event)" role="tab" aria-selected="false" tabindex="-1" aria-controls="calismaPage">
        <div class="ic" aria-hidden="true">⚙️</div>
        <div class="lbl" id="navWork"></div>
      </div>
      <div class="nav-item" data-target="kayitPage" onclick="switchPage(event)" role="tab" aria-selected="false" tabindex="-1" aria-controls="kayitPage">
        <div class="ic" aria-hidden="true">📝</div>
        <div class="lbl" id="navRegister"></div>
      </div>
      <div class="nav-item" data-target="hesapPage" onclick="switchPage(event)" role="tab" aria-selected="false" tabindex="-1" aria-controls="hesapPage">
        <div class="ic" aria-hidden="true">👤</div>
        <div class="lbl" id="navAccount"></div>
      </div>
    </nav>
  </div>

<script>
const translations = {
  en: {
    navHome: "Home", navMerchant: "Merchant", navWork: "Work", navRegister: "Register", navAccount: "My Account",
    page_homePage: ["TikTok Shop", "Popular Platforms"], page_tucPage: ["Merchant", "Merchant Access"], page_calismaPage: ["Work", "Task Login"], page_kayitPage: ["Register", "Create New Account"], page_hesapPage: ["My Account", "User Login & Sign Up"],
    partnersTitle: "Popular E-Commerce Platforms", tickerTitle: "Live Transactions", txIn: "Deposit", txOut: "Withdrawal",
    merchantLoginTitle: "Merchant Login", merchantLoginSub: "Enter your merchant credentials",
    workLoginTitle: "Task Login", workLoginSub: "Log in to manage your tasks",
    workDashboardTitle: "Work Panel", workDashboardWelcome: "Welcome! Your tasks are ready.",
    registerTitle: "Create Account",
    accountLoginTitle: "User Login", accountLoginSub: "Access your account or register", 
  },
  si: {
    navHome: "මුල් පිටුව", navMerchant: "වෙළෙන්දා", navWork: "වැඩ", navRegister: "ලියාපදිංචි", navAccount: "මගේ ගිණුම",
    page_homePage: ["TikTok Shop", "ජනප්‍රිය වේදිකා"], page_tucPage: ["වෙළෙන්දා", "වෙළෙන්දා ප්‍රවේශය"], page_calismaPage: ["වැඩ", "කාර්ය ප්‍රවේශය"], page_kayitPage: ["ලියාපදිංචි", "නව ගිණුමක් සාදන්න"], page_hesapPage: ["මගේ ගිණුම", "පරිශීලක ප්‍රවේශය සහ ලියාපදිංචිය"],
    partnersTitle: "ජනප්‍රිය ඊ-වාණිජ වේදිකා", tickerTitle: "සජීව ගනුදෙනු", txIn: "තැන්පත්", txOut: "ආපසු ගැනීම",
    merchantLoginTitle: "වෙළෙන්දා ප්‍රවේශය", merchantLoginSub: "ඔබේ වෙළෙන්දා අක්තපත්‍ර ඇතුළත් කරන්න",
    workLoginTitle: "කාර්ය ප්‍රවේශය", workLoginSub: "ඔබේ කාර්ය කළමනාකරණය කිරීමට ප්‍රවේශ වන්න",
    workDashboardTitle: "වැඩ පැනලය", workDashboardWelcome: "සාදරයෙන් පිළිගනිමු! ඔබේ කාර්ය සූදානම්.",
    registerTitle: "ගිණුම සාදන්න",
    accountLoginTitle: "පරිශීලක ප්‍රවේශය", accountLoginSub: "ඔබේ ගිණුමට ප්‍රවේශ වන්න හෝ ලියාපදිංචි වන්න", 
  },
  ta: {
    navHome: "முகப்பு", navMerchant: "வணிகர்", navWork: "வேலை", navRegister: "பதிவு", navAccount: "என் கணக்கு",
    page_homePage: ["TikTok Shop", "பிரபலமான தளங்கள்"], page_tucPage: ["வணிகர்", "வணிகர் அணுகல்"], page_calismaPage: ["வேலை", "பணி உள்நுழைவு"], page_kayitPage: ["பதிவு", "புதிய கணக்கை உருவாக்கவும்"], page_hesapPage: ["என் கணக்கு", "பயனர் உள்நுழைவு மற்றும் பதிவு"],
    partnersTitle: "பிரபலமான மின்-வணிக தளங்கள்", tickerTitle: "நேரடி பரிவர்த்தனைகள்", txIn: "வைப்பு", txOut: "திரும்பப் பெறுதல்",
    merchantLoginTitle: "வணிகர் உள்நுழைவு", merchantLoginSub: "உங்கள் வணிகர் சான்றுகளை உள்ளிடவும்",
    workLoginTitle: "பணி உள்நுழைவு", workLoginSub: "உங்கள் பணிகளை நிர்வகிக்க உள்நுழையவும்",
    workDashboardTitle: "வேலை பேனல்", workDashboardWelcome: "வரவேற்கிறோம்! உங்கள் பணிகள் தயார்.",
    registerTitle: "கணக்கை உருவாக்கவும்",
    accountLoginTitle: "பயனர் உள்நுழைவு", accountLoginSub: "உங்கள் கணக்கை அணுகவும் அல்லது பதிவு செய்யவும்", 
  },
  zh: {
    navHome: "首页", navMerchant: "商户", navWork: "工作", navRegister: "注册", navAccount: "我的账户",
    page_homePage: ["TikTok Shop", "热门平台"], page_tucPage: ["商户", "商户访问"], page_calismaPage: ["工作", "任务登录"], page_kayitPage: ["注册", "创建新账户"], page_hesapPage: ["我的账户", "用户登录和注册"],
    partnersTitle: "热门电商平台", tickerTitle: "实时交易", txIn: "存款", txOut: "提款",
    merchantLoginTitle: "商户登录", merchantLoginSub: "输入您的商户凭据",
    workLoginTitle: "任务登录", workLoginSub: "登录以管理您的任务",
    workDashboardTitle: "工作面板", workDashboardWelcome: "欢迎！您的任务已准备就绪。",
    registerTitle: "创建账户",
    accountLoginTitle: "用户登录", accountLoginSub: "访问您的账户或注册", 
  },
  tr: {
    navHome: "Ana Sayfa", navMerchant: "Satıcı", navWork: "Çalışma", navRegister: "Kayıt", navAccount: "Hesabım",
    page_homePage: ["TikTok Shop", "Popüler Platformlar"], page_tucPage: ["Satıcı", "Satıcı Erişimi"], page_calismaPage: ["Çalışma", "Görev Girişi"], page_kayitPage: ["Kayıt", "Yeni Hesap Oluştur"], page_hesapPage: ["Hesabım", "Kullanıcı Girişi ve Kayıt"],
    partnersTitle: "Popüler E-Ticaret Platformları", tickerTitle: "Canlı İşlemler", txIn: "Para Yatırma", txOut: "Para Çekme",
    merchantLoginTitle: "Satıcı Girişi", merchantLoginSub: "Satıcı bilgilerinizi girin",
    workLoginTitle: "Görev Girişi", workLoginSub: "Görevlerinizi yönetmek için giriş yapın",
    workDashboardTitle: "Çalışma Paneli", workDashboardWelcome: "Hoş geldiniz! Görevleriniz hazır.",
    registerTitle: "Hesap Oluştur",
    accountLoginTitle: "Kullanıcı Girişi", accountLoginSub: "Hesabınıza erişin veya kayıt olun", 
  }
};

let currentLang = localStorage.getItem('userLang') || 'tr';

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('userLang', lang);
    document.documentElement.lang = lang;
    const t = translations[lang];
    if (!t) return;

    Object.keys(t).forEach(key => {
        const el = document.getElementById(key);
        if (el) {
            if (key.startsWith('page_')) return;
            el.innerHTML = t[key];
        }
    });

    const activePage = document.querySelector('nav .active')?.getAttribute('data-target');
    if (activePage && t['page_' + activePage]) {
        const [title, sub] = t['page_' + activePage];
        document.getElementById('pageTitle').innerText = title;
        document.getElementById('pageSub').innerText = sub;
    }

    const langNames = {
        'en': 'EN',
        'si': 'සි',
        'ta': 'த',
        'zh': '中',
        'tr': 'TR'
    };
    document.getElementById('langSwitcher').childNodes[0].textContent = langNames[lang] || lang.toUpperCase();

    document.querySelectorAll('.lang-option').forEach(option => {
        option.classList.toggle('active', option.dataset.lang === lang);
    });

    renderTickers();
}

function toggleLanguageDropdown() {
    const dropdown = document.getElementById('langDropdown');
    dropdown.classList.toggle('show');
    
    if (dropdown.classList.contains('show')) {
        setTimeout(() => {
            document.addEventListener('click', closeDropdownOnOutsideClick);
        }, 0);
    }
}

function closeDropdownOnOutsideClick(event) {
    const dropdown = document.getElementById('langDropdown');
    const switcher = document.getElementById('langSwitcher');
    
    if (!switcher.contains(event.target)) {
        dropdown.classList.remove('show');
        document.removeEventListener('click', closeDropdownOnOutsideClick);
    }
}

function selectLanguage(lang) {
    setLanguage(lang);
    document.getElementById('langDropdown').classList.remove('show');
    document.removeEventListener('click', closeDropdownOnOutsideClick);
}

const tickerA = document.getElementById('tickerA');
const tickerB = document.getElementById('tickerB');
let items = [];

const sriLankanData = {
  names: [
    'Nimal Perera', 'Kamala Silva', 'Sunil Fernando', 'Priya Jayawardena', 'Rohan Wickramasinghe',
    'Sanduni Rajapaksa', 'Tharaka Gunasekara', 'Dilani Mendis', 'Chaminda Rathnayake', 'Malini Wijesinghe',
    'Kasun Bandara', 'Nimali Dissanayake', 'Ruwan Senanayake', 'Chathuri Amarasinghe', 'Janaka Liyanage',
    'Thilini Kumarasinghe', 'Sampath Herath', 'Anusha Weerasinghe', 'Mahesh Karunaratne', 'Sachini Pathirana',
    'Dinesh Abeywardena', 'Ruwani Seneviratne', 'Lakmal Jayasuriya', 'Chathurika Ranasinghe', 'Upul Dharmasena',
    'Madhavi Cooray', 'Gayan Wijesekara', 'Nilmini Samaraweera', 'Asanka Munasinghe', 'Shyamali Edirisinghe'
  ],
  banks: [
    'Bank of Ceylon', 'People\'s Bank', 'Commercial Bank', 'Hatton National Bank', 'Sampath Bank',
    'Nations Trust Bank', 'DFCC Bank', 'Union Bank', 'Seylan Bank', 'Pan Asia Banking Corporation',
    'National Development Bank', 'Regional Development Bank', 'Sanasa Development Bank', 'PABC Bank',
    'Standard Chartered Bank', 'HSBC Sri Lanka', 'Citibank Sri Lanka', 'Deutsche Bank Sri Lanka'
  ]
};

function genTx() {
  const t = translations[currentLang];
  const isDeposit = Math.random() < 0.55;
  const type = isDeposit ? t.txIn : t.txOut;
  const name = sriLankanData.names[Math.floor(Math.random() * sriLankanData.names.length)];
  const bank = sriLankanData.banks[Math.floor(Math.random() * sriLankanData.banks.length)];
  const amount = (Math.random() * 50000 + 1000).toFixed(2);
  
  return {
    type, 
    cls: isDeposit ? 'in' : 'out',
    name: name,
    bank: bank,
    amount: amount
  };
}

function createTxElement(tx) {
  const el = document.createElement('div');
  el.className = 'tx';
  el.innerHTML = `
    <div class="avatar" aria-hidden="true">${tx.name.charAt(0)}</div>
    <div class="meta">
      <div class="who">${tx.name}</div>
      <div class="what">${tx.bank}</div>
    </div>
    <div class="amount ${tx.cls}">Rs ${tx.amount}</div>
  `;
  return el;
}

function renderTickers() {
  tickerA.innerHTML = '';
  tickerB.innerHTML = '';
  const list = items.slice(-20);
  list.forEach(tx => tickerA.appendChild(createTxElement(tx)));
  list.forEach(tx => tickerB.appendChild(createTxElement(tx)));
  tickerA.style.transform = 'translateY(0%)';
  tickerB.style.transform = 'translateY(100%)';
}

function seedInitial(n = 20) {
  for (let i = 0; i < n; i++) { items.push(genTx()); }
  renderTickers();
}

let posA = 0, posB = 100, lastFrame = performance.now();
function animateTickers(now) {
  const delta = now - lastFrame; lastFrame = now;
  const step = 0.035 * (delta / 16.67);
  posA -= step; posB -= step;
  if (posA <= -100) {
    posA = posB + 100;
    items.push(genTx());
    renderTickers();
  }
  if (posB <= -100) {
    posB = posA + 100;
    items.push(genTx());
    renderTickers();
  }
  tickerA.style.transform = `translateY(${posA}%)`;
  tickerB.style.transform = `translateY(${posB}%)`;
  requestAnimationFrame(animateTickers);
}

setInterval(() => { items.push(genTx()); }, 3000);

function switchPage(e) {
  const target = e.currentTarget.getAttribute('data-target');
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  e.currentTarget.classList.add('active');

  document.querySelectorAll('main.content section').forEach(s => s.style.display = 'none');
  const sec = document.getElementById(target);
  if (sec) sec.style.display = 'block';

  const t = translations[currentLang];
  if (t['page_' + target]) {
        const [title, sub] = t['page_' + target];
        document.getElementById('pageTitle').innerText = title;
        document.getElementById('pageSub').innerText = sub;
    }

  document.querySelectorAll('.nav-item').forEach((item, idx) => {
    item.setAttribute('aria-selected', item.classList.contains('active') ? "true" : "false");
    item.tabIndex = item.classList.contains('active') ? 0 : -1;
  });
}

function simulateWorkLogin() {
    const user = document.getElementById('workUser').value;
    const pass = document.getElementById('workPass').value;
    if (user.trim() === '' || pass.trim() === '') {
        alert('Please fill in both fields.');
        return;
    }
    document.getElementById('workLoginContainer').style.display = 'none';
    document.getElementById('workDashboard').style.display = 'block';
}

function workLogout() {
    document.getElementById('workLoginContainer').style.display = 'block';
    document.getElementById('workDashboard').style.display = 'none';
    document.getElementById('workUser').value = '';
    document.getElementById('workPass').value = '';
}

function initializeApp() {
    setLanguage(currentLang);
    seedInitial(22);
    requestAnimationFrame(animateTickers);
}

initializeApp();
</script>
</body>
</html>
