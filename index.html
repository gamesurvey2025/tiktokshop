<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Tik Tok Shop - Functional Demo</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f4f6f8; --card:#ffffff; --muted:#8b8f98; --accent:#ffb400; --accent-600:#f2a900; --accent-dark:#d08a00; --green:#2bb673; --red:#ff5a5f; --shadow: 0 6px 18px rgba(20,20,30,0.08);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{font-family:Inter, system-ui, sans-serif; background: linear-gradient(180deg,#f7f9fb 0%, #eef2f5 100%); margin:0; color:#0f1724; -webkit-font-smoothing:antialiased;}
  .device { max-width:420px; height:812px; margin:18px auto; border-radius:22px; overflow:hidden; box-shadow: 0 20px 50px rgba(10,20,40,0.12); border:1px solid rgba(0,0,0,0.03); background: var(--bg); display:flex; flex-direction:column; }
  header.top { height:68px; display:flex; align-items:center; gap:12px; padding:12px 16px; background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.6)); backdrop-filter: blur(6px); border-bottom:1px solid rgba(15,20,36,0.04); position:relative; z-index: 10; }
  .logo { width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,#111827,#111827); display:flex;align-items:center;justify-content:center;color:white;font-weight:700; font-size:14px; box-shadow: var(--shadow); flex-shrink:0; }
  .title-wrap {flex:1; display:flex;flex-direction:column; justify-content:center; min-width:0;}
  .page-title { font-weight:700; font-size:16px; color:#111827; margin:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .page-sub { font-size:12px; color:var(--muted); margin-top:2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  main.content { flex:1; overflow:auto; padding:14px; -webkit-overflow-scrolling: touch; }
  .card { background:var(--card); border-radius:14px; padding:16px; box-shadow: var(--shadow); margin-bottom:12px; }
  .card-title { font-weight: 700; margin-bottom: 12px; font-size:16px; }

  /* Geli≈ümi≈ü Dil Men√ºs√º Stilleri */
  .lang-menu-container { position: relative; }
  .lang-switcher-button { font-size: 12px; font-weight: 600; color: var(--muted); background: rgba(0,0,0,0.03); padding: 6px 10px; border-radius: 6px; cursor: pointer; border: 1px solid transparent; margin-right: 8px; flex-shrink: 0; }
  .lang-dropdown { display: none; position: absolute; top: 50px; right: 0; background: white; border-radius: 8px; box-shadow: var(--shadow); border: 1px solid #f0f2f5; overflow: hidden; z-index: 11; min-width: 150px; }
  .lang-dropdown a { color: #2d3748; padding: 10px 15px; text-decoration: none; display: block; font-size: 14px; }
  .lang-dropdown a:hover { background-color: #f7f9fb; }

  .form-container { display: flex; flex-direction: column; gap: 8px; }
  .form-title { font-weight: 700; }
  .form-sub { color: var(--muted); }
  .field { margin-top: 12px; background: #f7f9fb; border: 1px solid #eef2f5; padding: 12px 14px; border-radius: 10px; color: #111827; font-size: 14px; }
  .field::placeholder { color: #a0aec0; }
  .btn-row { display:flex; gap:10px; margin-top:18px }
  .btn { flex:1; padding:12px; border-radius:30px; background: var(--accent); color: white; text-align:center;font-weight:700; border:none; cursor:pointer; box-shadow: 0 6px 18px rgba(255, 180, 0, 0.25); }
  .btn.secondary { background: #e2e8f0; color: #2d3748; box-shadow: none; }
  nav.bottom{height:74px;display:flex;align-items:center;justify-content:space-around;gap:6px;padding:8px 10px;border-top:1px solid rgba(15,20,36,0.04);background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.98))}
  .nav-item{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;width:60px;color:var(--muted);text-decoration:none;font-size:12px;cursor:pointer; text-align:center;}
  .nav-item .ic{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:transparent}
  .nav-item.active{color:var(--accent-dark)}
  .nav-item.active .ic{background:linear-gradient(180deg,var(--accent-600),var(--accent));color:white;box-shadow:var(--shadow)}
</style>
</head>
<body>
  <div class="device" role="application">
    <header class="top">
      <div class="logo">T</div>
      <div class="title-wrap">
        <div class="page-title" id="pageTitle"></div>
        <div class="page-sub" id="pageSub"></div>
      </div>
      <div class="lang-menu-container">
          <button id="langSwitcherButton" class="lang-switcher-button" onclick="toggleLangDropdown()"></button>
          <div id="langDropdown" class="lang-dropdown">
              <a href="#" onclick="selectLanguage(event, 'en')">English (EN)</a>
              <a href="#" onclick="selectLanguage(event, 'si')">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω (SI)</a>
              <a href="#" onclick="selectLanguage(event, 'ta')">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (TA)</a>
          </div>
      </div>
      <div style="width:36px;height:36px;border-radius:10px;background:#e6eef9;display:flex;align-items:center;justify-content:center;font-weight:700;color:#2c5282">A</div>
    </header>

    <main class="content" id="contentArea">
      <section id="homePage"></section>

      <section id="tucPage" style="display:none;"></section>

      <section id="calismaPage" style="display:none;"></section>

      <section id="kayitPage" style="display:none;"></section>

      <section id="hesapPage" style="display:none;"></section>
    </main>

    <nav class="bottom" role="navigation">
        <div class="nav-item active" data-target="homePage" onclick="switchPage(event)"><div class="ic">üè†</div><div class="lbl" id="navHome"></div></div>
        <div class="nav-item" data-target="tucPage" onclick="switchPage(event)"><div class="ic">üßæ</div><div class="lbl" id="navMerchant"></div></div>
        <div class="nav-item" data-target="calismaPage" onclick="switchPage(event)"><div class="ic">‚öôÔ∏è</div><div class="lbl" id="navWork"></div></div>
        <div class="nav-item" data-target="kayitPage" onclick="switchPage(event)"><div class="ic">üìù</div><div class="lbl" id="navRegister"></div></div>
        <div class="nav-item" data-target="hesapPage" onclick="switchPage(event)"><div class="ic">üë§</div><div class="lbl" id="navAccount"></div></div>
    </nav>
  </div>

<script>
/* -------------------------------------------------- */
/* --- √áEVƒ∞Rƒ∞ VE METƒ∞N Y√ñNETƒ∞Mƒ∞ --- */
/* -------------------------------------------------- */
const translations = {
  en: {
    navHome: "Home", navMerchant: "Merchant", navWork: "Work", navRegister: "Register", navAccount: "My Account",
    page_homePage: ["Home", "Welcome"], page_tucPage: ["Merchant", "Merchant Access"], page_calismaPage: ["Work", "Task Login"], page_kayitPage: ["Register", "Create New Account"], page_hesapPage: ["My Account", "User Login"],
    // Placeholders
    merchantUserPlaceholder: "Merchant ID", merchantPassPlaceholder: "Password",
    workUserPlaceholder: "Username", workPassPlaceholder: "Password",
    registerUserPlaceholder: "Choose a Username", registerPassPlaceholder: "Create a Password",
    accountUserPlaceholder: "Username", accountPassPlaceholder: "Password",
    // Titles & Buttons
    merchantLoginTitle: "Merchant Login", btnLogin: "Login", btnRegister: "Register",
    workLoginTitle: "Work Login", workBtnLogin: "Login",
    registerTitle: "Create Account", registerBtnSubmit: "Sign Up",
    accountLoginTitle: "My Account Login", accountBtnLogin: "Login", accountBtnRegister: "Sign Up",
    // Logged In Panels
    workDashboardTitle: "Work Panel", workDashboardWelcome: "Welcome back! Your tasks are waiting.", btnLogout: "Logout",
    accountDashboardTitle: "My Account", accountDashboardWelcome: "Hello! Welcome to your account.",
    // Alerts
    alertFillFields: "Please fill in all fields.", alertUserExists: "This username already exists. Please choose another one.", alertRegisterSuccess: "Registration successful! You can now log in.", alertLoginFailed: "Incorrect username or password.",
  },
  si: { // Sinhala
    navHome: "‡∂∏‡∑î‡∂Ω‡∑ä ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä", navMerchant: "‡∑Ä‡∑ô‡∑Ö‡∑ô‡∂±‡∑ä‡∂Ø‡∑è", navWork: "‡∂ö‡∑è‡∂ª‡∑ä‡∂∫", navRegister: "‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í‡∂∫", navAccount: "‡∂∏‡∂ú‡∑ö ‡∂ú‡∑í‡∂´‡∑î‡∂∏",
    page_homePage: ["‡∂∏‡∑î‡∂Ω‡∑ä ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä", "‡∑É‡∑è‡∂Ø‡∂ª‡∂∫‡∑ô‡∂±‡∑ä ‡∂¥‡∑í‡∑Ö‡∑í‡∂ú‡∂±‡∑í‡∂∏‡∑î"], page_tucPage: ["‡∑Ä‡∑ô‡∑Ö‡∑ô‡∂±‡∑ä‡∂Ø‡∑è", "‡∑Ä‡∑ô‡∑Ö‡∂≥ ‡∂¥‡∑ä‚Äç‡∂ª‡∑Ä‡∑ö‡∑Å‡∂∫"], page_calismaPage: ["‡∂ö‡∑è‡∂ª‡∑ä‡∂∫", "‡∂ö‡∑è‡∂ª‡∑ä‡∂∫‡∂∫‡∂ß ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂±"], page_kayitPage: ["‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í‡∂∫", "‡∂±‡∑Ä ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ö‡∑ä ‡∑É‡∑è‡∂Ø‡∂±‡∑ä‡∂±"], page_hesapPage: ["‡∂∏‡∂ú‡∑ö ‡∂ú‡∑í‡∂´‡∑î‡∂∏", "‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑î‡∂∏"],
    merchantUserPlaceholder: "‡∑Ä‡∑ô‡∑Ö‡∂≥ ‡∑Ñ‡∑ê‡∂≥‡∑î‡∂±‡∑î‡∂∏‡∑ä‡∂¥‡∂≠", merchantPassPlaceholder: "‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫",
    workUserPlaceholder: "‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö ‡∂±‡∑è‡∂∏‡∂∫", workPassPlaceholder: "‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫",
    registerUserPlaceholder: "‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö ‡∂±‡∑è‡∂∏‡∂∫‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±", registerPassPlaceholder: "‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫‡∂ö‡∑ä ‡∑É‡∑è‡∂Ø‡∂±‡∑ä‡∂±",
    accountUserPlaceholder: "‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö ‡∂±‡∑è‡∂∏‡∂∫", accountPassPlaceholder: "‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫",
    merchantLoginTitle: "‡∑Ä‡∑ô‡∑Ö‡∂≥ ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑î‡∂∏", btnLogin: "‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂±", btnRegister: "‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∂±‡∑ä‡∂±",
    workLoginTitle: "‡∂ö‡∑è‡∂ª‡∑ä‡∂∫‡∂∫‡∂ß ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂±", workBtnLogin: "‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂±",
    registerTitle: "‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ö‡∑ä ‡∑É‡∑è‡∂Ø‡∂±‡∑ä‡∂±", registerBtnSubmit: "‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∂±‡∑ä‡∂±",
    accountLoginTitle: "‡∂∏‡∂ú‡∑ö ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ß ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂±", accountBtnLogin: "‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂±", accountBtnRegister: "‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í ‡∑Ä‡∂±‡∑ä‡∂±",
    workDashboardTitle: "‡∂ö‡∑è‡∂ª‡∑ä‡∂∫ ‡∂¥‡∑î‡∑Ä‡∂ª‡∑î‡∑Ä", workDashboardWelcome: "‡∂±‡∑ê‡∑Ä‡∂≠‡∂≠‡∑ä ‡∑É‡∑è‡∂Ø‡∂ª‡∂∫‡∑ô‡∂±‡∑ä ‡∂¥‡∑í‡∑Ö‡∑í‡∂ú‡∂±‡∑í‡∂∏‡∑î! ‡∂î‡∂∂‡∂ú‡∑ö ‡∂ö‡∑è‡∂ª‡∑ä‡∂∫‡∂∫‡∂±‡∑ä ‡∂∂‡∂Ω‡∑è ‡∑É‡∑í‡∂ß‡∑ì.", btnLogout: "‡∂â‡∑Ä‡∂≠‡∑ä ‡∑Ä‡∂±‡∑ä‡∂±",
    accountDashboardTitle: "‡∂∏‡∂ú‡∑ö ‡∂ú‡∑í‡∂´‡∑î‡∂∏", accountDashboardWelcome: "‡∂Ü‡∂∫‡∑î‡∂∂‡∑ù‡∑Ä‡∂±‡∑ä! ‡∂î‡∂∂‡∂ú‡∑ö ‡∂ú‡∑í‡∂´‡∑î‡∂∏‡∂ß ‡∑É‡∑è‡∂Ø‡∂ª‡∂∫‡∑ô‡∂±‡∑ä ‡∂¥‡∑í‡∑Ö‡∑í‡∂ú‡∂±‡∑í‡∂∏‡∑î.",
    alertFillFields: "‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∂ö‡∑ä‡∑Ç‡∑ö‡∂≠‡∑ä‚Äç‡∂ª ‡∂¥‡∑î‡∂ª‡∑Ä‡∂±‡∑ä‡∂±.", alertUserExists: "‡∂∏‡∑ô‡∂∏ ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö ‡∂±‡∑è‡∂∏‡∂∫ ‡∂Ø‡∑ê‡∂±‡∂ß‡∂∏‡∂≠‡∑ä ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∂∫‡∑ö ‡∂á‡∂≠. ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑Ä‡∑ô‡∂±‡∂≠‡∑ä ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±.", alertRegisterSuccess: "‡∂Ω‡∑í‡∂∫‡∑è‡∂¥‡∂Ø‡∑í‡∂Ç‡∂†‡∑í‡∂∫ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∂∫‡∑í! ‡∂î‡∂∂‡∂ß ‡∂Ø‡∑ê‡∂±‡∑ä ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑í‡∂∫ ‡∑Ñ‡∑ê‡∂ö.", alertLoginFailed: "‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö ‡∂±‡∑è‡∂∏‡∂∫ ‡∑Ñ‡∑ù ‡∂∏‡∑î‡∂ª‡∂¥‡∂Ø‡∂∫.",
  },
  ta: { // Tamil
    navHome: "‡ÆÆ‡ØÅ‡Æï‡Æ™‡Øç‡Æ™‡ØÅ", navMerchant: "‡Æµ‡Æ£‡Æø‡Æï‡Æ∞‡Øç", navWork: "‡Æ™‡Æ£‡Æø", navRegister: "‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ", navAccount: "‡Æé‡Æ©‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡ØÅ",
    page_homePage: ["‡ÆÆ‡ØÅ‡Æï‡Æ™‡Øç‡Æ™‡ØÅ", "‡Æ®‡Æ≤‡Øç‡Æµ‡Æ∞‡Æµ‡ØÅ"], page_tucPage: ["‡Æµ‡Æ£‡Æø‡Æï‡Æ∞‡Øç", "‡Æµ‡Æ£‡Æø‡Æï‡Æ∞‡Øç ‡ÆÖ‡Æ£‡ØÅ‡Æï‡Æ≤‡Øç"], page_calismaPage: ["‡Æ™‡Æ£‡Æø", "‡Æ™‡Æ£‡Æø ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ"], page_kayitPage: ["‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ", "‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æï‡Æ£‡Æï‡Øç‡Æï‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡ØÅ"], page_hesapPage: ["‡Æé‡Æ©‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡ØÅ", "‡Æ™‡ÆØ‡Æ©‡Æ∞‡Øç ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ"],
    merchantUserPlaceholder: "‡Æµ‡Æ£‡Æø‡Æï‡Æ∞‡Øç ‡Æê‡Æü‡Æø", merchantPassPlaceholder: "‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡ØÜ‡Ææ‡Æ≤‡Øç",
    workUserPlaceholder: "‡Æ™‡ÆØ‡Æ©‡Æ∞‡Øç‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç", workPassPlaceholder: "‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡ØÜ‡Ææ‡Æ≤‡Øç",
    registerUserPlaceholder: "‡Æí‡Æ∞‡ØÅ ‡Æ™‡ÆØ‡Æ©‡Æ∞‡Øç‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç", registerPassPlaceholder: "‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç‡Æ≤‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
    accountUserPlaceholder: "‡Æ™‡ÆØ‡Æ©‡Æ∞‡Øç‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç", accountPassPlaceholder: "‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡ØÜ‡Ææ‡Æ≤‡Øç",
    merchantLoginTitle: "‡Æµ‡Æ£‡Æø‡Æï‡Æ∞‡Øç ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ", btnLogin: "‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æï", btnRegister: "‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡Æï",
    workLoginTitle: "‡Æ™‡Æ£‡Æø ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ", workBtnLogin: "‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æï",
    registerTitle: "‡Æï‡Æ£‡Æï‡Øç‡Æï‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡ØÅ", registerBtnSubmit: "‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡Æï",
    accountLoginTitle: "‡Æé‡Æ©‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡ØÅ ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æµ‡ØÅ", accountBtnLogin: "‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡Æï", accountBtnRegister: "‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡Æï",
    workDashboardTitle: "‡Æ™‡Æ£‡Æø ‡Æï‡ØÅ‡Æ¥‡ØÅ", workDashboardWelcome: "‡ÆÆ‡ØÄ‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æ∞‡ØÅ‡Æï! ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Æ£‡Æø‡Æï‡Æ≥‡Øç ‡Æï‡Ææ‡Æ§‡Øç‡Æ§‡Æø‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡Æø‡Æ©‡Øç‡Æ±‡Æ©.", btnLogout: "‡Æµ‡ØÜ‡Æ≥‡Æø‡ÆØ‡Øá‡Æ±‡ØÅ",
    accountDashboardTitle: "‡Æé‡Æ©‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡ØÅ", accountDashboardWelcome: "‡Æµ‡Æ£‡Æï‡Øç‡Æï‡ÆÆ‡Øç! ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æ£‡Æï‡Øç‡Æï‡Æø‡Æ±‡Øç‡Æï‡ØÅ ‡Æµ‡Æ∞‡Æµ‡Øá‡Æ±‡Øç‡Æï‡Æø‡Æ±‡Øã‡ÆÆ‡Øç.",
    alertFillFields: "‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ ‡Æ™‡ØÅ‡Æ≤‡Æô‡Øç‡Æï‡Æ≥‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æ®‡Æø‡Æ∞‡Æ™‡Øç‡Æ™‡Æµ‡ØÅ‡ÆÆ‡Øç.", alertUserExists: "‡Æá‡Æ®‡Øç‡Æ§ ‡Æ™‡ÆØ‡Æ©‡Æ∞‡Øç‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç ‡Æè‡Æ±‡Øç‡Æï‡Æ©‡Æµ‡Øá ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ. ‡ÆÆ‡Æ±‡Øç‡Æ±‡Øä‡Æ©‡Øç‡Æ±‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.", alertRegisterSuccess: "‡Æ™‡Æ§‡Æø‡Æµ‡ØÅ ‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø! ‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ™‡Øç‡Æ™‡Øã‡Æ§‡ØÅ ‡Æâ‡Æ≥‡Øç‡Æ®‡ØÅ‡Æ¥‡Øà‡ÆØ‡Æ≤‡Ææ‡ÆÆ‡Øç.", alertLoginFailed: "‡Æ§‡Æµ‡Æ±‡Ææ‡Æ© ‡Æ™‡ÆØ‡Æ©‡Æ∞‡Øç‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æï‡Æü‡Æµ‡ØÅ‡Æö‡Øç‡Æö‡Øä‡Æ≤‡Øç.",
  }
};

/* -------------------------------------------------- */
/* --- UYGULAMA ALTYAPISI VE KULLANICI Y√ñNETƒ∞Mƒ∞ --- */
/* -------------------------------------------------- */
let currentLang = 'en';
let users = [];
let loggedInUser = null;

// Kullanƒ±cƒ±larƒ± localStorage'dan y√ºkle
function loadUsers() {
    const storedUsers = localStorage.getItem('appUsers');
    if (storedUsers) {
        users = JSON.parse(storedUsers);
    }
}

// Kullanƒ±cƒ±larƒ± localStorage'a kaydet
function saveUsers() {
    localStorage.setItem('appUsers', JSON.stringify(users));
}

// Kayƒ±t i≈ülemini y√∂net
function handleRegister() {
    const username = document.getElementById('registerUser').value.trim();
    const password = document.getElementById('registerPass').value.trim();
    const t = translations[currentLang];

    if (!username || !password) {
        alert(t.alertFillFields);
        return;
    }
    if (users.find(u => u.username === username)) {
        alert(t.alertUserExists);
        return;
    }

    users.push({ username, password });
    saveUsers();
    alert(t.alertRegisterSuccess);
    document.getElementById('registerUser').value = '';
    document.getElementById('registerPass').value = '';
}

// Giri≈ü i≈ülemini y√∂net
function handleLogin(page) {
    const username = document.getElementById(`${page}User`).value.trim();
    const password = document.getElementById(`${page}Pass`).value.trim();
    const t = translations[currentLang];

    const user = users.find(u => u.username === username && u.password === password);
    if (user) {
        loggedInUser = user;
        renderCurrentPage(); // Giri≈ü sonrasƒ± sayfayƒ± yeniden √ßiz
    } else {
        alert(t.alertLoginFailed);
    }
}

// √áƒ±kƒ±≈ü i≈ülemini y√∂net
function handleLogout() {
    loggedInUser = null;
    renderCurrentPage(); // √áƒ±kƒ±≈ü sonrasƒ± sayfayƒ± yeniden √ßiz
}

/* -------------------------------------------------- */
/* --- ARAY√úZ OLU≈ûTURMA VE SAYFA Y√ñNETƒ∞Mƒ∞ --- */
/* -------------------------------------------------- */

// Sayfalarƒ±n i√ßeriƒüini (HTML) olu≈üturan fonksiyonlar
function getHomePageHTML(t) { return `<div class="card"><div class="card-title">Home Page Content</div></div>`; }
function getTucPageHTML(t) { return `<div class="card"><div class="form-container"><div class="form-title">${t.merchantLoginTitle}</div><input class="field" id="merchantUser" placeholder="${t.merchantUserPlaceholder}"/><input class="field" id="merchantPass" type="password" placeholder="${t.merchantPassPlaceholder}"/><div class="btn-row"><button class="btn" onclick="alert('Merchant login is for demo purposes.')">${t.btnLogin}</button></div></div></div>`; }
function getKayitPageHTML(t) { return `<div class="card"><div class="form-container"><div class="form-title">${t.registerTitle}</div><input class="field" id="registerUser" placeholder="${t.registerUserPlaceholder}"/><input class="field" id="registerPass" type="password" placeholder="${t.registerPassPlaceholder}"/><div class="btn-row"><button class="btn" onclick="handleRegister()">${t.registerBtnSubmit}</button></div></div></div>`; }

function getCalismaPageHTML(t) {
    if (loggedInUser) {
        return `<div class="card" style="text-align:center;"><h3 class="card-title">${t.workDashboardTitle}</h3><p>${t.workDashboardWelcome.replace('Welcome back!', `Welcome back, <strong>${loggedInUser.username}</strong>!`)}</p><button class="btn secondary" onclick="handleLogout()">${t.btnLogout}</button></div>`;
    }
    return `<div class="card"><div class="form-container"><div class="form-title">${t.workLoginTitle}</div><input class="field" id="calismaUser" placeholder="${t.workUserPlaceholder}"/><input class="field" id="calismaPass" type="password" placeholder="${t.workPassPlaceholder}"/><div class="btn-row"><button class="btn" onclick="handleLogin('calisma')">${t.workBtnLogin}</button></div></div></div>`;
}

function getHesapPageHTML(t) {
    if (loggedInUser) {
        return `<div class="card" style="text-align:center;"><h3 class="card-title">${t.accountDashboardTitle}</h3><p>${t.accountDashboardWelcome.replace('Hello!', `Hello, <strong>${loggedInUser.username}</strong>!`)}</p><button class="btn secondary" onclick="handleLogout()">${t.btnLogout}</button></div>`;
    }
    return `<div class="card"><div class="form-container"><div class="form-title">${t.accountLoginTitle}</div><input class="field" id="hesapUser" placeholder="${t.accountUserPlaceholder}"/><input class="field" id="hesapPass" type="password" placeholder="${t.accountPassPlaceholder}"/><div class="btn-row"><button class="btn" onclick="handleLogin('hesap')">${t.accountBtnLogin}</button><button class="btn secondary" onclick="document.querySelector('[data-target=kayitPage]').click()">${t.btnRegister}</button></div></div></div>`;
}

const pageRenderers = {
    homePage: getHomePageHTML,
    tucPage: getTucPageHTML,
    calismaPage: getCalismaPageHTML,
    kayitPage: getKayitPageHTML,
    hesapPage: getHesapPageHTML
};

// Aktif sayfayƒ± yeniden √ßizer
function renderCurrentPage() {
    const activePageId = document.querySelector('.nav-item.active').getAttribute('data-target');
    const t = translations[currentLang];
    document.getElementById(activePageId).innerHTML = pageRenderers[activePageId](t);
}

// Dil se√ßimini y√∂net
function setLanguage(lang) {
    currentLang = lang;
    const t = translations[currentLang];
    
    // Navigasyon ve buton metinlerini g√ºncelle
    document.documentElement.lang = lang;
    document.getElementById('langSwitcherButton').innerText = lang.toUpperCase();
    Object.keys(t).forEach(key => {
        const el = document.getElementById(key);
        if (el) {
            if (!key.startsWith('page_') && !key.endsWith('Placeholder') && !key.startsWith('alert')) {
                el.innerHTML = t[key];
            }
        }
    });

    renderCurrentPage(); // Sayfanƒ±n i√ßeriƒüini yeni dilde yeniden olu≈ütur
    updatePageTitles(); // √úst ba≈ülƒ±klarƒ± g√ºncelle
}

function updatePageTitles() {
    const activePageId = document.querySelector('.nav-item.active').getAttribute('data-target');
    const [title, sub] = translations[currentLang]['page_' + activePageId] || ["", ""];
    document.getElementById('pageTitle').innerText = title;
    document.getElementById('pageSub').innerText = sub;
}

// Sayfa deƒüi≈ütirme
function switchPage(event) {
  const targetId = event.currentTarget.getAttribute('data-target');
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  event.currentTarget.classList.add('active');

  document.querySelectorAll('main.content section').forEach(s => { s.style.display = 'none'; });
  document.getElementById(targetId).style.display = 'block';

  renderCurrentPage();
  updatePageTitles();
}

// Dil men√ºs√º y√∂netimi
const langDropdown = document.getElementById('langDropdown');
function toggleLangDropdown() {
    langDropdown.style.display = langDropdown.style.display === 'block' ? 'none' : 'block';
}
function selectLanguage(event, lang) {
    event.preventDefault();
    setLanguage(lang);
    langDropdown.style.display = 'none';
}
window.onclick = function(event) {
    if (!event.target.matches('.lang-switcher-button')) {
        if (langDropdown.style.display === 'block') {
            langDropdown.style.display = 'none';
        }
    }
}

/* -------------------------------------------------- */
/* --- UYGULAMAYI BA≈ûLATMA --- */
/* -------------------------------------------------- */
function initializeApp() {
    loadUsers(); // Kayƒ±tlƒ± kullanƒ±cƒ±larƒ± y√ºkle
    const userLang = (navigator.language || navigator.userLanguage).slice(0, 2);
    let initialLang = 'en';
    if (userLang === 'si') initialLang = 'si';
    if (userLang === 'ta') initialLang = 'ta';
    
    setLanguage(initialLang); // Ba≈ülangƒ±√ß dilini ayarla ve ilk sayfayƒ± √ßiz
}

initializeApp();
</script>
</body>
</html>
